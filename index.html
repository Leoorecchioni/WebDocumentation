<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset='utf-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <title>R-type's documentation</title>
    <link rel='stylesheet' href='main.css'/>
    <link rel="icon" type="image/x-icon" href="imgs/favicon.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body>
<div class="wrapper">
    <header>
        <a class="logo" href="index.html">R-type's documentation</a>

        <nav class="primary-navbar">
            <ul>
                <li>
                    <a href="R-type_final.7z" download="R-type_final.7z" class="current">Download</a>
                </li>
                <li>
                    <a href="B-CPP-500_rtype.pdf" download="B-CPP-500_rtype.pdf" class="style-pdf">.pdf</a>
                </li>
                <li>
                    <a href="https://github.com/EpitechPromo2026/B-CPP-500-MAR-5-1-rtype-mathieu.bonnieu" target="_blank"><i class="fa fa-github" style="color: white;"></i></a>
                </li>
            </ul>
        </nav>
    </header>

    <nav class="sidebar">
        <ul class="topics">
            <li class="topic-title">
                <a href="#Server">Server</a>
            </li>
            <ul class="topic-items">
                <li>
                    <a href="#How_it_works">Sub-section 1.1 : How it works</a>
                </li>
                <li>
                    <a href="#Client_interaction">Sub-section 1.2 : Client interaction</a>
                </li>
                <li>
                    <a href="#Game_handling">Sub-section 1.3 : Game handling</a>
                </li>
            </ul>
            <li class="topic-title">
                <a href="#Client">Client</a>
            </li>
            <ul class="topic-items">
                <li>
                    <a href="#How_it_works_2">Sub-section 2.1 : How it works</a>
                </li>
                <li>
                    <a href="#Server_interaction">Sub-section 2.2 : Server interaction</a>
                </li>
                <li>
                    <a href="#Game_display">Sub-section 2.3 : Game display</a>
                </li>
            </ul>
            <li class="topic-title">
                <a href="#Game">Game motors</a>
            </li>
            <ul class="topic-items">
                <li>
                    <a href="#Game_display">Sub-section 3.1 : Game display</a>
                </li>
                <li>
                    <a href="#Game_events">Sub-section 3.2 : Game events</a>
                </li>
            </ul>
        </ul>
    </nav>
    <main class="overview">
        <div class="image-container">
            <img src="Logo_R-type.jfif" alt="image R-type" id="image-dÃ©but"/>
        </div>
        <div class="text-main">
            <div class="container-test">
                <img class="test-test" src="cap-4.png" alt="image-4"/>
                <img class="test-test" src="cap-3.png" alt="image-3"/>
            </div>
            <br>
            <h1 id="Server">Server</h1>
            <p>Entity that exchanges information with the client in order to allow the game to evolve according to players' actions.<br>It also manages in-game events. The server contains no visuals; it simply sends the information generated by the client's actions to the client. It is capable of interpreting the client's actions using a defined protocol to make communication more fluid.</p>
            <h3 id="How_it_works">How it works.</h3>
            <p>
                The server communicates with the clients via the udp protocol used with asio::boost.
                Boost.Asio is a cross-platform C++ library for network and low-level I/O programming that provides developers with a consistent asynchronous model using a modern C++ approach.
            </p>
            <!-- <ol>
                <li>Lorem ipsum dolor sit amet consectetur.</li>
                <li>Unde molestiae ipsum consequuntur quo deleniti?</li>
                <li>Incidunt quis aliquam minus doloribus quo!</li>
                <li>Doloribus ea assumenda fugiat possimus explicabo.</li>
                <li>Excepturi eius architecto voluptas doloribus maxime?</li>
            </ol> -->
            <h3 id="Client_interaction">Client interaction.</h3>
            <p>
                The server sends a vector containing structures composed of int.<br>
                This enables the client to display the progress of the game using the positions of the sprites contained in this vector.
                The client also sends the time at which it sends the message to the server, enabling the server to manage the chronology of actions.
            </p>
            <!-- <ol>
                <li>Lorem ipsum dolor sit amet consectetur adipisicing elit. Optio possimus numquam dicta eligendi maiores consequatur suscipit quos nihil aliquid aliquam.</li>
                <li>Est quis enim, maiores rem mollitia repellendus nostrum ducimus asperiores perspiciatis possimus quam sint quod vero nisi, beatae nihil incidunt!</li>
                <li>Voluptatum cum vel enim ex et error eos earum! Molestias quam, eligendi sit debitis deleniti voluptatum officiis minima obcaecati aspernatur?</li>
            </ol> -->
            <h3 id="Game_handling">Game handling</h3>
            <p>
                Thanks to a Game class derived from an IGame interface, the server is able to manage game progress and send sprite positions to the client.
            </p>
            <!-- <ol>
                <li>Lorem ipsum dolor sit amet consectetur adipisicing elit. Optio possimus numquam dicta eligendi maiores consequatur suscipit quos nihil aliquid aliquam.</li>
                <li>Est quis enim, maiores rem mollitia repellendus nostrum ducimus asperiores perspiciatis possimus quam sint quod vero nisi, beatae nihil incidunt!</li>
                <li>Voluptatum cum vel enim ex et error eos earum! Molestias quam, eligendi sit debitis deleniti voluptatum officiis minima obcaecati aspernatur?</li>
            </ol> -->
            <img class="test" src="cap-1.png" alt="image-1"/>
            
            <br><br>
    
            <h1 id="Client">Client</h1>
            <p>The customer will be the visual rendering of the game.<br>It communicates with the server by sending it an int corresponding to a specific action, which can be identified using the communication protocol explained below.<br> It receives a structure vector from the server, which enables it to know the position of all entities on the game and display them in the right places.</p>
            <h3 id="How_it_works_2">How it works.</h3>
            <p>
                The client communicates with the server via the udp protocol used with asio::boost.<br>
                The client receives the game content to be displayed 60 times per second.<br>
                It is separated into 2 threads, one containing the game loop and the other containing a function that reads the server info.
            </p>
            <!-- <ol>
                <li>Lorem ipsum dolor sit amet consectetur.</li>
                <li>Unde molestiae ipsum consequuntur quo deleniti?</li>
                <li>Incidunt quis aliquam minus doloribus quo!</li>
                <li>Doloribus ea assumenda fugiat possimus explicabo.</li>
                <li>Excepturi eius architecto voluptas doloribus maxime?</li>
            </ol> -->
            <h3 id="Server_interaction">Server interaction.</h3>
            <p>
                It sends each action it takes to the server in the form of an int corresponding to the action it has taken (e.g.: 1: forward, 2: backward...).<br>
                The thread that handles the reception of messages is called recursively in order to always be waiting to receive other information.
            </p>
            <!-- <ol>
                <li>Lorem ipsum dolor sit amet consectetur adipisicing elit. Optio possimus numquam dicta eligendi maiores consequatur suscipit quos nihil aliquid aliquam.</li>
                <li>Est quis enim, maiores rem mollitia repellendus nostrum ducimus asperiores perspiciatis possimus quam sint quod vero nisi, beatae nihil incidunt!</li>
                <li>Voluptatum cum vel enim ex et error eos earum! Molestias quam, eligendi sit debitis deleniti voluptatum officiis minima obcaecati aspernatur?</li>
            </ol> -->
            <h3 id="Game_display">Game display</h3>
            <p>
                The thread that deals with the game loop is managed independently of that of the reception of messages so that it is more fluid.<br>
                It will interpret every action the player does on the keyboard and send codes to the server so that it emtte the game.
            </p>
            <!-- <ol>
                <li>Lorem ipsum dolor sit amet consectetur adipisicing elit. Optio possimus numquam dicta eligendi maiores consequatur suscipit quos nihil aliquid aliquam.</li>
                <li>Est quis enim, maiores rem mollitia repellendus nostrum ducimus asperiores perspiciatis possimus quam sint quod vero nisi, beatae nihil incidunt!</li>
                <li>Voluptatum cum vel enim ex et error eos earum! Molestias quam, eligendi sit debitis deleniti voluptatum officiis minima obcaecati aspernatur?</li>
            </ol> -->
            <img class="test" src="cap-2.png" alt="image-2"/>
            
            <br><br>

            <h1 id="Game">Game motors</h1>
            <p>The motor is base on the use of elements structure. The IGame is the basic interface that allow user to make his own video game base on the logic on the video game. Also, the motor allow you by the way to make a video game solo and in multiplayer. In our projet, we propose you one way to use our motor with mutiplayer video game.</p>
            <h3 id="Game_display">Game display.</h3>
            <p>
                All game is base on a vector of elements that can be anything on the video wich could be identify by an ID and a Type that is define on our macro file. For our video game, you have these types:
            </p>
            <img class="test" src="cap-5.png" alt="image-1"/>
            <!-- <ol>
                <li>PLAYER : player type</li>
                <li>MOB : basic mob enemy type</li>
                <li>BULLET : player's bullet type</li>
                <li>BOSS_BULLET : boss bullet type</li>
                <li>LIFE : life type</li>
                <li>BACKGROUND : background type</li>
                <li>SPELL : special player's attack type</li>
            </ol> -->
            <h3 id="Game_events">Game events.</h3>
            <p>
                <code>void setElement(sf::Vector2f position, sf::Vector2f scale,int height, int width, int id, Element *element, int type);</code><br>
                To set element we use the fonction setElement that is set all argument on the element pointer.
                Then we have to push this new element on a vector < Element > and then send it on our object with the addElement method if you want to add several elements in the same time.
                You can also just send it if its the only element you want to add with the same method.
                If the element already exist, you can use to method updateElement that need the id of element too to update it correctly on the motor vector.
            </p>
            <br>
            <p>
                <code>Element IGame::getElementById(int id);</code><br>
                If you need to get an element to check or modify it, you only need to know his id and use the method getElementById with the int id. If the element is not find, the method return an empty
                element with an id equal -42. Otherwise, it return a copy of the element.
            </p>
            <br>
            <p>
                <code>IGame::draw();</code><br>
                Draw all element from the vector<* element> elements list on the window.
            </p>
            <br>
            <p>
                <code><sf::Keyboard::Key> Game::getKeyPress()</code><br>
                Return the list of the key press by the user.
            </p>
            <br>
            <p>
                <code>Game::isOpen()</code><br>
                Return true if the window is open, false otherwise.
            </p>
            <br>
            <p>
                <code>void Game::close()</code><br>
                Close the window if it's open.
            </p>
            <br>
            <p>
                <code>bool touch(Element first, Element second)</code><br>
                This function compare two element, if the first one touch the second, the function return true, otherwise it return false.
            </p>
            <br>
            <p>
                The update method is different between the client and the server. The server will update all element in function of the input and time. In this case it need the id of the client's player and the command code press by the client. The client update will update the key press list.
            </p>
        </div>
    </main>
</div>
</body>

</html>

