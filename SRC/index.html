<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>R-type's documentation</title>
    <link rel="stylesheet" href="style.css">
</head>
<body align="center" style="font-family: -apple-system, BlinkMacSystemFont, 'San Francisco', 'Segoe UI', Roboto, Ubuntu, 'Helvetica Neue', Arial, sans-serif;">
    <header>
        <h1>R-type's documentation</h1>
        <nav>
            <ul>
                <li><a href="#section-1">Server</a></li>
                <li><a href="#section-2">Client</a></li>
                <li><a href="#section-3">Game</a></li>
                <li><a href="#section-4">Protocol</a></li>
                <li><a class="Bouton-download" href="r-type2.7z" download>Download</a></li>
            </ul>
        </nav>
    </header>
    
    <main>
        <h2 class="test">code architecture diagram </h2>
        <div class="center-image">
            <img src="test.png" alt="Texte alternatif de l'image"/>
        </div>
        <section id="section-1">
            <h2>Server</h2>
            <p>Entity that exchanges information with the client in order to allow the game to evolve according to players' actions. It also manages in-game events.</p>
            <p>The server contains no visuals; it simply sends the information generated by the client's actions to the client.</p> 
            <p>It is capable of interpreting the client's actions using a defined protocol to make communication more fluid.</p> 
            
            <div class="Tabulation">
                <h3>Sub-section 1.1 : How it works</h3>
                <p>The server communicates with the clients  via the udp protocol used with asio::boost.</p>
                <p>Boost.Asio is a cross-platform C++ library for network and low-level I/O programming that provides developers with a consistent asynchronous model using a modern C++ approach.</p>
                <h3>Sub-section 1.2 : Client interaction</h3>
                <p>The server sends a vector containing structures composed of int. </p>
                <p>This enables the client to display the progress of the game using the positions of the sprites contained in this vector. </p>
                <p>The client also sends the time at which it sends the message to the server, enabling the server to manage the chronology of actions. </p>
                <br>
                <!-- <code>
                  ./a.out
                </code> -->
                <h3>Sub-section 1.3 : Game handling</h3>
                <p>Thanks to a Game class derived from an IGame interface, the server is able to manage game progress and send sprite positions to the client.</p>
            </div>
        </section>

        <section id="section-2">
            <h2>Client</h2>
            <p>The customer will be the visual rendering of the game</p>
            <p>It communicates with the server by sending it an int corresponding to a specific action, which can be identified using the communication protocol explained below. </p>
            <p>It receives a structure vector from the server, which enables it to know the position of all entities on the game and display them in the right places.</p>

            <div class="Tabulation">
                <h3>Sub-section 2.1 : How it works</h3>
                <p>The client communicates with the server via the udp protocol used with asio::boost.</p>
                <p>The client receives the game content to be displayed 60 times per second.</p>
                <p>It is separated into 2 threads, one containing the game loop and the other containing a function that reads the server info.</p>
                <h3>Sub-section 2.2 : Server interaction</h3>
                <p>It sends each action it takes to the server in the form of an int corresponding to the action it has taken (e.g.: 1: forward, 2: backward...).</p>
                <p>The thread that handles the reception of messages is called recursively in order to always be waiting to receive other information.</p>

                <h3>Sub-section 2.3 : Game display</h3>
                <p>The thread that deals with the game loop is managed independently of that of the reception of messages so that it is more fluid.</p>
                <p>It will interpret every action the player does on the keyboard and send codes to the server so that it emtte the game.</p>
            </div>
        </section>

        <section id="section-3">
            <h2>Game</h2>
            <p>This part of the project works with 2 main functions, one that handles the display and another that receives and interprets information from the server.</p>
            <div class="Tabulation">
                <h3>Sub-section 3.1 : Game display</h3>
                <p>The game display is managed by the client. It won't update anything in the game itself, as its purpose is to send the actions executed by the player to the server.</p>
                <p>The server will then send it a vector containing all the invormations the client needs to display the state of the game.</p>
                <h3>Sub-section 3.2 : Game events</h3>
                <p>Game events are received by the client but interpreted by the server once the client has sent it the action the player has taken.</p>
            </div>
        </section>
        <section id="section-4">
            <h2>Protocol</h2>
            <p>This protocol is used to organize the data sent from the server to the client and vice versa. It is created so that everyone can easily understand it.</p>
            <div class="Tabulation">
                <h3>Code -1 : </h3>
                <p>The player x was deconnected.</p>
                <h3>Code 0 : </h3>
                <p>The player does nothing.</p>
                <h3>Code 1 : </h3>
                <p>The player goes to the left.</p>
                <h3>Code 2 : </h3>
                <p>The player goes to the right.</p>
                <h3>Code 3 : </h3>
                <p>The player goes to the up.</p>
                <h3>Code 4 : </h3>
                <p>The player goes to the down.</p>
                <h3>Code 5 : </h3>
                <p>The player fires a standard missile.</p>
                <h3>Code 6 : </h3>
                <p>The player uses a special missile.</p>
                <h3>Code 7 : </h3>
                <p>The enemy x was killed.</p>
                <h3>Code 8 : </h3>
                <p>The player x was killed.</p>
                
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2023 R-type</p>
    </footer>
</body>
</html>
